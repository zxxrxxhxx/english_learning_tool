# 英语学习工具网站 - 项目待办清单

## 数据库设计与实现
- [x] 设计并实现词库表（english_entry）
- [x] 设计并实现谐音表（homophone）
- [x] 设计并实现分类表（category）
- [x] 设计并实现查询历史表（query_history）
- [x] 设计并实现审核员表（auditor）
- [x] 扩展用户表支持角色权限
- [x] 执行数据库迁移

## 后端API开发
- [x] 实现词库查询API（翻译查询功能）
- [x] 实现分类列表API（三级分类体系）
- [x] 实现用户历史记录API（增删查）
- [x] 实现词库管理API（CRUD、批量导入）
- [x] 实现谐音审核API（待审池、审核操作）
- [x] 实现分类管理API（CRUD、排序）
- [x] 实现用户管理API（列表、禁用）
- [x] 实现数据统计API（热词榜单、分类热度、用户活跃度）
- [x] 实现审核员管理API（添加、删除、权限配置）
- [ ] 实现防刷机制（限流）
- [ ] 实现定时任务（清理历史记录）

## 用户前端界面
- [x] 设计整体视觉风格和主题
- [x] 实现首页布局和导航
- [x] 实现翻译查询页面
- [x] 实现分类导航和筛选页面
- [x] 实现用户历史记录页面
- [x] 实现用户注册登录页面
- [ ] 实现忘记密码功能

## 管理后台界面
- [x] 实现管理后台布局（DashboardLayout）
- [x] 实现词库管理页面
- [x] 实现谐音审核页面
- [ ] 实现分类管理页面（树状图可视化）
- [x] 实现用户管理页面
- [ ] 实现审核员管理页面
- [x] 实现数据统计面板
- [x] 实现未收录词管理页面
- [ ] 实现系统设置页面

## 测试与优化
- [x] 编写核心功能单元测试
- [ ] 实现Redis缓存高频词库
- [x] 优化数据库索引
- [ ] 测试防刷机制
- [ ] 测试谐音审核流程
- [ ] 测试历史记录清理机制
- [ ] 性能测试和优化

## 数据初始化
- [x] 准备初始词库数据（3万条）
- [x] 准备初始分类数据（三级分类体系）
- [x] 批量导入初始数据

## 用户体验优化（新需求）
- [x] 将主题改为深色/黑色主调
- [x] 简化前端页面设计，去除冗余元素
- [x] 隐藏管理后台入口，仅管理员角色可见

## 布局和功能重构（新需求）
- [x] 添加用户注册API
- [x] 完善词条列表展示功能
- [x] 添加谐音提交表单和管理功能
- [x] 重构首页为左侧边栏布局（类Manus）
- [x] 添加用户注册页面（使用Manus OAuth，首次登录自动注册）
- [x] 移除所有页面的管理入口按钮
- [x] 管理员通过 /admin 网址直接访问后台

## 大厂标准全面优化（新需求）
- [x] 查询结果页面添加“提交谐音”按钮，自动填充词条ID
- [x] 优化UI视觉层次和间距系统
- [x] 改进交互反馈（加载状态、hover效果、过渡动画）
- [x] 优化响应式布局，适配移动端
- [x] 添加空状态设计和错误边界处理
- [x] 重构组件提取可复用逻辑
- [x] 优化性能（懒加载、防抖节流、缓存策略）
- [x] 改进TypeScript类型定义
- [x] 优化配置文件和环境变量管理
- [x] 添加代码注释和文档

## 添加词条表单优化（新需求）
- [x] 更新后端API，支持在创建词条时同时添加谐音
- [x] 更新前端词库管理页面，添加谐音输入框
- [x] 测试添加词条功能，确保谐音正确保存

## 免登录使用优化（新需求）
- [x] 优化首页，移除强制登录要求，添加登录引导
- [x] 优化查询结果展示，未登录用户也能查看
- [x] 优化提交谐音功能，未登录时显示登录提示
- [x] 优化历史记录页面，未登录时显示登录引导
- [x] 优化分类页面，确保免登录可用

## 管理后台导航优化（新需求）
- [x] 检查DashboardLayout组件是否存在
- [x] 为管理后台添加完整的侧边栏导航链接
- [x] 确保所有管理页面都能通过导航访问

## 用户管理手动创建账户（新需求）
- [x] 添加后端API支持手动创建用户
- [x] 更新前端用户管理页面，添加创建用户表单
- [x] 添加表单验证（邮箱格式、必填字段）
- [x] 测试创建用户功能

## 谐音审核简化和用户管理完善（新需求）
- [x] 修改谐音审核逻辑，从2人审核改为1人审核即可通过
- [x] 数据库添加密码字段（password_hash）
- [x] 添加用户编辑API（修改姓名、邮箱、角色、密码）
- [x] 添加用户删除API
- [x] 添加密码重置API
- [x] 前端添加编辑用户对话框
- [x] 前端添加删除用户确认
- [x] 前端添加密码重置功能
- [x] 创建用户时支持设置初始密码
- [x] 测试所有新功能

## 批量导入常用单词（新需求）
- [x] 准备100个常用英语单词数据
- [x] 为每个单词添加中文译文、音标、音节
- [x] 为每个单词创建中文发音谐音
- [x] 批量导入到数据库（123个单词）

## 主题切换功能（新需求）
- [x] 添加主题切换组件（黑色/白色主题）
- [x] 更新主题配置支持浅色主题
- [x] 在导航栏添加主题切换按钮
- [x] 保存用户的主题偏好到localStorage

## 词库管理页面完善（新需求）
- [x] 优化后端API支持分页查询
- [x] 优化后端API支持关键词搜索
- [x] 添加编辑词条API（修改英文、音标、译文、分类、谐音）
- [x] 添加删除词条API
- [x] 重构前端词库列表，显示完整信息
- [x] 添加选中单词功能
- [x] 实现编辑词条对话框
- [x] 实现删除词条确认
- [x] 添加搜索和筛选功能
- [x] 添加分页组件

## 首页登出功能（新需求）
- [x] 更新首页，登录后显示用户名和登出按钮
- [x] 实现登出功能，清除登录状态
- [x] 测试登出功能

## 批量导入十万单词（新需求）
- [x] 克隆GitHub仓库 https://github.com/1eez/103976.git
- [x] 分析数据格式和字段结构
- [x] 编写数据导入脚本处理十万单词
- [x] 执行批量导入到数据库
- [x] 验证导入结果和数据完整性

## 网站完整性优化（上线准备）

### 核心功能完善
- [x] 完善分类浏览页面，支持按分类查看单词列表
- [x] 实现数据统计页面（热词榜单、分类分布、用户活跃度图表）
- [ ] 添加搜索自动补全功能
- [ ] 添加查询历史快捷重查功能

### 安全优化
- [x] 实现API限流机制（防止恶意刷量）
- [x] 添加输入验证和XSS防护
- [x] 验证SQL查询参数化，防止注入攻击
- [ ] 添加CSRF保护

### 性能优化
- [x] 优化数据库索引（englishText全文索引）
- [ ] 实现热门词汇缓存机制
- [ ] 优化分页加载性能
- [ ] 添加查询结果缓存

### 前端体验优化
- [ ] 完善所有页面的加载状态
- [x] 添加全局错误边界组件
- [ ] 优化移动端响应式布局
- [ ] 添加搜索历史记录功能
- [ ] 优化空状态和错误提示
- [ ] 添加骨架屏加载效果

### 测试和验证
- [ ] 编写核心功能单元测试
- [ ] 进行性能压力测试
- [ ] 测试移动端兼容性
- [ ] 验证安全防护措施

## 功能增强计划（分阶段实现）

### 第一阶段：核心体验提升（1-2周）
- [x] 搜索自动补全：输入时显示匹配的单词建议（前10个）
- [x] 单词发音功能：集成第三方API获取美式/英式发音
- [x] 查询历史快捷访问：侧边栏显示最近查询的10个单词

### 第二阶段：AI和社区功能（1个月）
- [ ] AI个性化学习建议：基于查询历史生成学习推荐
- [ ] 学习进度可视化：每日查询统计、累计掌握单词数、学习日历
- [ ] 谐音点赞评论系统：用户可以点赞和评论谐音记忆法

### 第三阶段：高级功能（2-3个月）
- [ ] 场景化学习模式：旅游、面试、医疗等场景词库
- [ ] 游戏化学习：每日挑战、单词PK、成就系统
- [ ] 会员体系：免费版/会员版功能划分
- [ ] 单词收藏夹：用户可以收藏重要单词
- [ ] PWA应用：支持离线使用和添加到主屏幕
